# Quarkus MCP Database Server Configuration

# Database Connection
# Configure via environment variables:
# - DB_URL: JDBC connection URL (e.g., jdbc:postgresql://localhost:5432/mydb or jdbc:sqlite:./test.db)
#   Default: jdbc:sqlite::memory: (in-memory SQLite for testing)
# - DB_USERNAME: Database username (optional for SQLite)
# - DB_PASSWORD: Database password (optional for SQLite)

# Datasource Configuration
quarkus.datasource.jdbc.url=${DB_URL:jdbc:sqlite::memory:}
quarkus.datasource.username=${DB_USERNAME:}
quarkus.datasource.password=${DB_PASSWORD:}

# Disable dev services (we configure datasources manually)
quarkus.datasource.devservices.enabled=false

# Connection Pool Configuration (Agroal) - only used if datasource is configured
quarkus.datasource.jdbc.max-size=${DB_POOL_SIZE:1}
quarkus.datasource.jdbc.min-size=1
quarkus.datasource.jdbc.validation-query-sql=SELECT 1
quarkus.datasource.jdbc.acquisition-timeout=10
quarkus.datasource.jdbc.idle-removal-interval=5M
quarkus.datasource.jdbc.max-lifetime=30M

# Pagination Configuration
db.page-size=${DB_PAGE_SIZE:100}

# Logging Configuration
# Redirect console logging to stderr for stdio compatibility
quarkus.log.console.stderr=true
quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c{3.}] (%t) %s%e%n
quarkus.log.level=INFO

# Quarkus Configuration
quarkus.banner.enabled=false
